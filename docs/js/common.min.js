function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:59.936416,lng:30.321013},zoom:16,mapTypeControl:!1,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER}}),mapMarker=new google.maps.Marker({position:{lat:59.936416,lng:30.321013},map:map,icon:mapImg})}var map,mapImg="../img/map-marker.png",mapMarker;!function(){function e(e,a,n){this._element=e,this._offset=a,this._modificator=n}var a=$(".features__item"),n=$(".effect__timer-img");e.prototype.animated=function(){var e=this;$(window).on("scroll",function(){$(e._element).offset()&&$(this).scrollTop()>$(e._element).offset().top/e._offset&&$(e._element).addClass(e._modificator)})};var t=new e(a[0],3,"features__item_animated-left");t.animated();var o=new e(a[1],3,"features__item_animated-left");o.animated();var s=new e(a[2],3,"features__item_animated-left");s.animated();var i=new e(n,1.5,"effect__timer-img_animated");i.animated();var r=$(".photos__upload-features");r.on("click",function(e){var a=e.target,n="photos__upload-label_active";a.matches(".photos__upload-label")&&!$(a).hasClass(n)&&($("."+n).removeClass(n),$(a).addClass(n))})}(),function(){var e=$(".page-header__nav"),a=$(".page-header__btn"),n=$(".page-header__menu-link");e.addClass("page-header__nav_closed"),a.on("click",function(){e.toggleClass("page-header__nav_closed page-header__nav_opened")}),n.on("click",function(){var e=$(this).parent(".page-header__menu-item").siblings(".page-header__menu-item");e.each(function(){$(this).children(".page-header__menu-link").removeClass("page-header__menu-link_active")}),$(this).addClass("page-header__menu-link_active")})}(),function(){var e=($(".prices__table"),$(".prices__table-col-1"),$(".slides-wrapper")),a={arrows:!0,dots:!1,slidesToShow:1,slideToScroll:1,responsive:[{breakpoint:1050,settings:{arrows:!1,dots:!0}},{breakpoint:700,settings:{arrows:!1,dots:!0}}]},n={arrows:!1,dots:!0,slidesToShow:1,slideToScroll:1};$(".feedback__list").slick(a),window.innerWidth<=700&&e.slick(n),$(window).resize(function(){window.innerWidth>700?e.slick("unslick"):e.slick(n)})}(),function(){var e=$("#surname"),a=$("#name"),n=$("#middlename"),t=$("#phone"),o=$("#mail"),s=$(".challenge__form"),i=$("#emotions_text"),r=$(".challenge__submit-btn"),l="challenge__submit-btn_disabled",_="<span class='error'></span>",m="challenge__input_error",d={empty:"Обязательное поле",format:"Неверный формат",btnMessage:"Проверьте введенные данные"},p=0,c=[e,a,n,t,o,i];s.on("submit",function(e){c.forEach(function(a){a.val()&&" "!==a.val()[0]||$(a).hasClass(m)||(e.preventDefault(),$(a).addClass(m),p++)});for(var a=0;a<c.length;a++)if($(c[a]).hasClass(m)){e.preventDefault(),r.children("span.error")[0]||(r.prepend(_),$("span.error").text(d.btnMessage),r.addClass(l));break}}),c.forEach(function(e){e.on("focus",function(){$(this).hasClass(m)&&($(this).removeClass(m),p--,0===p&&(r[0].removeChild($("span.error")[0]),r.removeClass(l)))})})}();
